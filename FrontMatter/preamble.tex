
\usepackage[utf8]{inputenc} % Basic package for Latex
\usepackage{graphicx} % To help include figures
\usepackage{geometry} % To allow document margin changes
\usepackage{setspace} % To allow custom spacing 
\usepackage{indentfirst} % To allow indentations in the first paragraph.
\usepackage{amsmath,amssymb} % For formatting equations properly
\usepackage{natbib} % For formatting the bibliography
\usepackage{chngcntr} % To allow changing how figures, tables, and pages are counted.
%\usepackage{appendix} % To help format the appendix
\usepackage[font=small,labelfont=bf]{caption} %This makes caption font small and makes the caption heading bold.
\usepackage{tabularx} %To allow formatting Tables.
\usepackage{array} %To allow creating arrays. 
\providecommand\phantomsection{} %This command allows you to make phantom sections that have no title but are still included in the Table of Contents such as the epigraph.
\usepackage[all]{nowidow} %This prevents widow/orphan lines
\usepackage{tikz}%This package helps to anchor the seal on the title page to the student name
\usetikzlibrary{tikzmark}%This is part of the tikz package


%Creating an Interlude Environment in order to NOT count or number a certain page such as the copyright page.
\newenvironment{interlude}{
  \clearpage
  \thispagestyle{empty}% we want this page to be empty (adjust to use a modified page style)
  \pagestyle{empty}% use the same style for subsequent pages in the unnumbered section
  }
  {\clearpage}

%The following package and lines can be used to format and create a list of symbols, equations, abbreviations, etc. The example actually used in this template is the \glossaries package, but you may also use this \nomencl package if desired.
\usepackage[intoc]{nomencl}
\makenomenclature
\renewcommand{\nomname}{List of Symbols}

% This is to ensure the page numbers are centered and at the bottom.
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\cfoot{\thepage}

%This defines a new page style for just the title page.
\fancypagestyle{logopage}{\fancyhf{}\renewcommand{\headrulewidth}{0pt}\fancyfoot[C]{\includegraphics[scale=0.3]{Figures/Color Grad Banner.png}}}

%this causes equations to be counted according to their chapter location
\counterwithin{equation}{chapter} %this causes equations to be counted according to their chapter location
\counterwithin{figure}{chapter}




%This formats the table of contents the way Dr. Hakkila wants it
\usepackage[titles]{tocloft}


%Removes the Duplicate Chapter
\setcounter{secnumdepth}{4}% Show down to subsubsection

\setlength{\cftchapindent}{-20pt}% Just some value...

\usepackage{xpatch}

\makeatletter
\xpatchcmd{\@chapter}{\addcontentsline{toc}{chapter}{\protect\numberline{\thechapter}#1}}{%
                      \addcontentsline{toc}{chapter}{\protect\numberline{}#1}}{\typeout{Success}}{\typeout{Failed!}}
\makeatother



%This formats the Table of contents title
\renewcommand{\contentsname}{\hspace*{\fill}\bfseries\large Table of Contents\hspace*{\fill}}   


\renewcommand{\cftbeforetoctitleskip}{-0.25in}  

\renewcommand\cftchapdotsep{\cftdotsep}
\renewcommand\cftchapleader{\cftdotfill{\cftchapdotsep}}
%\renewcommand{\cftchappresnum}{CHAPTER } % put this before the number
%\addtolength{\cftchapnumwidth}{6em} % extra space for number and pre-name
%\renewcommand{\cftchapaftersnum}{. } % put period after chapter number and space


%This puts all the chapter headings into all-caps
%\renewcommand{\chaptername}{CHAPTER}

%Hopefully this reformats the List of Figures Title
\renewcommand{\listfigurename}{\hspace*{\fill}\bfseries\large List of Figures\hspace*{\fill}}  

%Reformat List of Tables, etc.
\renewcommand{\listtablename}{\hspace*{\fill}\bfseries\large List of Tables\hspace*{\fill}}  


%This creates a List of Equations.
\newcommand{\listequationsname}{List of Equations}
\newlistof{equations}{equ}{\listequationsname}

\newcommand{\eqdesc}[1]{%
  \csname phantomsection\endcsname % if hyperref is loaded
  \addcontentsline{equ}{equations}{\protect\numberline{\theequation}#1}%
}

\setlength{\parindent}{36pt}


%The following formats the chapter titles and sections appropriately
\usepackage{titlesec}



\titleformat
{\chapter}
[hang]
{\normalfont\large\bfseries\filcenter}
{} %Label. This is blank so that the entire chapter heading and title are properly centered. 
{0pt} %  Horizontal Space between label and title body.
{} %Before-Code 
{} 

\titleformat
{\section}
[hang]
{\normalfont\normalsize\bfseries}
{\thetitle} %Label. 
{.5em} %  Horizontal Space between label and title body.
{} %Before-Code 
{} 

\titleformat
{\subsection}
[hang]
{\normalfont\normalsize\bfseries}
{\thetitle} %Label. 
{.5em} %  Horizontal Space between label and title body.
{} %Before-Code 
{} 

\titlespacing{\subsection}{2em}{12pt}{12pt}

\titlespacing{\chapter}{0pt}{50pt}{12pt}

\titlespacing{\part}{0pt}{12pt}{12pt}


\titlespacing{name=\chapter, numberless}{0pt}{0pt}{12pt}


% I had used this code to combine the chapter heading and 
%\titleformat{\chapter}[hang] 
 % {\normalfont\large\bfseries\filcenter}{\chaptertitlename\ \thechapter:}{.3em}{} 


%This names the Bibliography/References whatever you want it to be.
\renewcommand{\bibname}{References}

%The below package creates the optional List of Symbols and formats it correction..
\usepackage[acronyms, automake, toc, nopostdot]{glossaries}
\usepackage{glossary-longbooktabs}
\newcolumntype{P}[1]{>{\centering\arraybackslash}p{#1}}
\renewcommand*{\entryname}{Symbol}
\newglossarystyle{mystyle}{% define custom glossaries style for Abbreviation page, read relative manual before change
\setglossarystyle{long-booktabs}%
\renewenvironment{theglossary}%
{\begin{longtable}{@{}P{3cm}@{}p{\dimexpr\linewidth-3cm}@{}}}%
{\end{longtable}}%

\renewcommand*{\glossaryheader}{%
 \bfseries\large Symbol & \centering\bfseries\large Description \tabularnewline\endhead \endfoot}%
}

\renewcommand{\glossarypreamble}{\normalsize}
\makeglossaries